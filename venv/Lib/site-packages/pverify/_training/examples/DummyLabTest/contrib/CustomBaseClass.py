from __future__ import annotations

from os.path import *

from pverify import *

from . import instrument_setup_default


# Common base class
class CustomBaseClass(PyVerifyLabTest):
    def __init__(self):
        # Overwrite the constructor of PyVerifyBaseTest for the test to write its results to
        # C:\Temp\PyVerify\<TestCaseName>
        PyVerifyLabTest.__init__(self, result_dir="C:/temp/PyVerify/{testcasename}")

    def Initialization(self):
        self.RunOptions.SuppressGUI = False
        self.RunOptions.PostProcOnlyReloadPath = ""
        self.RunOptions.SkipPostProcessing = False
        self.RunOptions.SkipVariations = []

        self.Attributes.ExecutionMode = Enums.ExecutionMode.Lab  # Change execution mode here

        self.load_instrument_setup(instrument_setup_default)

    def PostLoop(self):
        pass

    def OnError(self):
        self.PostLoop()
