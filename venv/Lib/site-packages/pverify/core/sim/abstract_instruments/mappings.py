"""
This module contains some classes that are needed in other scripts/modules but have to be stored somewhere else
because of simplifications.
"""

from __future__ import annotations

from pverify.core.sim.source_probe_config_classes import *

__all__ = [
    "ScopeMapping",
    "FgenMapping",
    "ProgLoadMapping",
    "PwrAnMapping",
    "DCSourceMapping",
    "ACSourceMapping",
]


class _BasicMapping:
    def __str__(self):
        return "{}: {}".format(str(self.__class__).split(".")[-1], self.__dict__)

    def __repr__(self):
        return self.__str__()


class ScopeMapping(_BasicMapping):
    """
    Returns a mapping object for a real or virtual instrument for simulation.

    :param Sim_Probe: A single-ended or differential probe configuration for simulation
    :type Sim_Probe: Union[ScopeProbe, ScopeDifferentialProbe, None]
    """

    def __init__(self, Sim_Probe: ScopeProbe | ScopeDifferentialProbe):
        self.Sim_Probe = Sim_Probe


class FgenMapping(_BasicMapping):
    """
    Returns a mapping object for a real or virtual instrument for simulation.

    :param Sim_ScriptingVars: Configuration class for the scripting variables of a PyVerify Source acting as
                              voltage source
    :type Sim_ScriptingVars: ScriptedSourceVariables
    """

    def __init__(self, Sim_ScriptingVars, **kwargs):
        self.Sim_ScriptingVars = Sim_ScriptingVars


class ProgLoadMapping(_BasicMapping):
    """
    Returns a mapping object for a real or virtual instrument for simulation.

    :param Sim_ScriptingVars: Configuration class for the scripting variables of a PyVerify Source acting as
                              voltage source
    :type Sim_ScriptingVars: ScriptedSourceVariables
    """

    def __init__(self, Sim_ScriptingVars, **kwargs):
        self.Sim_ScriptingVars = Sim_ScriptingVars


class PwrAnMapping(_BasicMapping):
    """
    Returns a mapping object for a real or virtual instrument for simulation.

    :param Sim_Probe: A poweranalyzer probe configuration for simulation
    :type Sim_Probe: PowerAnalyzerProbe
    """

    def __init__(self, Sim_Probe=None, **kwargs):
        self.Sim_Probe = Sim_Probe


class DCSourceMapping(_BasicMapping):
    """
    Returns a mapping object for a real or virtual instrument for simulation.

    :param Sim_ScriptingVars: Configuration class for the scripting variables of a PyVerify Source acting as
                              voltage source
    :type Sim_ScriptingVars: ScriptedSourceVariables
    """

    def __init__(self, Sim_ScriptingVars, **kwargs):
        self.Sim_ScriptingVars = Sim_ScriptingVars


class ACSourceMapping(_BasicMapping):
    """
    Returns a mapping object for a real or virtual instrument for simulation.

    :param Sim_ScriptingVars: Configuration class for the scripting variables of a PyVerify Source acting as
                              voltage source
    :type Sim_ScriptingVars: ScriptedSourceVariables
    """

    def __init__(self, Sim_ScriptingVars, **kwargs):
        self.Sim_ScriptingVars = Sim_ScriptingVars
