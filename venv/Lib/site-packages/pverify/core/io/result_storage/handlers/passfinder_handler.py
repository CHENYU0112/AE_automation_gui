from __future__ import annotations

from typing import TYPE_CHECKING

from pverify.core.io.result_storage.result_handler import ConversionHandler

if TYPE_CHECKING:
    from pathlib import Path


class passfinder_handler(ConversionHandler):
    """
    Creates a passfinder report
    """

    def __init__(self, **kwargs):
        super().__init__(enabled_for=["dlh5_handler"])

    def initialize(self):
        pass

    def convert(self, file: Path):
        from passfinder.converters.dlh5_to_passfinder import dlh5_to_passfinder

        dlh5_to_passfinder(filepath_in=file, filepath_out=self.resultdir / "passfinder")
