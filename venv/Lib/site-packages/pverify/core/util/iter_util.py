from __future__ import annotations

from collections.abc import Iterable


def flatten(iterable):
    """
    Flattens an irregular iterable of iterables

    Example:

        list(flatten([[[1, 2, 3], [4, 5]], 6]))

        --> [1, 2, 3, 4, 5, 6]
    """
    for item in iterable:
        if isinstance(item, Iterable) and not isinstance(item, (str, bytes)):
            yield from flatten(item)
        else:
            yield item
