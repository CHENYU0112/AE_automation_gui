from __future__ import annotations

from pverify.drivers.Scope.tkmso5x.tkmso5x import *

drv = tkmso5x()
drv.Initialize("GPIB0::1::INSTR", True, False, OptionString="simulate=true")
rlen = drv.GetAttributeViInt32("", TKMSO5X_ATTR_HORZ_RECORD_LENGTH)
drv.FetchWaveform("CH1", rlen)
drv.FetchDigitalWaveform("CH1", rlen)

print(drv.GetAttributeViString(None, IVI_ATTR_INSTRUMENT_MANUFACTURER, 1024))
print(drv.Identity.Revision)
print(drv.Identity.InstrumentFirmwareRevision)
print(drv.Identity.Identifier)
drv.Close()
