from __future__ import annotations

from pverify.drivers.flicker_meter.gomdbts256.gomdbts256 import GOmdbts256, GOmdbts256Error

if __name__ == "__main__":
    # create instrument instance and connect
    g = GOmdbts256()
    g.connect("BTS256_0")
    assert g.isConnected()

    # readouts:
    try:
        print("DLL_Version =", g.getDLLVersion())
        # print("Temperature =", g.getTemperature())
        # print("Firmware_Version =", g.getFirmwareVersion())
        # print("Serial_Nr. =", g.getSerialNumber())
        # print("Type =", g.getType())

        # g.measure()
        # print(g.getFlicker())
        # print(g.spectralGetCountsPixel())
        # print(g.getColor())
        # print(g.getColorCIE170())

        # g.measureTLA(0, 18000)
        # print(g.dequeueTLA(5))
        # print(g.getTLA())
        # print(g.getJA10())
        # print(g.getAssistFlickerPerception())

        g.disconnect()

    except GOmdbts256Error:
        print(GOmdbts256Error)
        g.disconnect()
