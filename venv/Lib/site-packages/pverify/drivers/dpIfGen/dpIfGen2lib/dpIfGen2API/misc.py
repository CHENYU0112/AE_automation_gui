from __future__ import annotations

import sys

PY3 = sys.version_info > (3,)


def decode(string):
    if type(string) in (bytes, bytearray):
        try:
            return string.decode("utf-8", "strict")
        except UnicodeDecodeError:
            try:
                return string.decode("latin-1", "strict")
            except UnicodeDecodeError:
                return string.decode("utf-8", "replace")
    return string
