# This example shows how to implement a script which is runnable either
# by dpCommunicator-GUI or by dp_communicator_cli.exe-tool
# Execute via CLI:
# dp_communicator_cli.exe -s get_device_info.txt

my_verbose=False
my_debug=False

print("Execute script: start")

if_fw_id = DpIfGen2APIBasicDp25.interface_fw_id_read(verbose=my_verbose, debug=my_debug)
print("-- Version of dpIfGen2 box: %s" % if_fw_id[0:28])

print("-- Establish connection to device")
DpIfGen2APIBasicDp25.connection_establish(verbose=my_verbose, debug=my_debug)

result = DpIfGen2APIBasicDp25.chip_identify(verbose=my_verbose, debug=my_debug)
print("-- Identified device: %s" % result)

info = DpIfGen2APIBasicDp25.info_get(verbose=my_verbose, debug=my_debug)
print("-- Identified info: %s" % info)

memory = DpIfGen2APIBasicDp25.memory_block_read("C000", "0010", out_format="hex", verbose=my_verbose, debug=my_debug)
print("-- Memory: %s" % memory)

memory_blank = DpIfGen2APIBasicDp25.memory_block_check_blank("C000", "0010", verbose=my_verbose, debug=my_debug)
print("-- Blank check result: %s" % memory_blank)

print("-- Shutdown device")
DpIfGen2APIBasicDp25.voltage_level_set(0)

print("Execute script: stop")
