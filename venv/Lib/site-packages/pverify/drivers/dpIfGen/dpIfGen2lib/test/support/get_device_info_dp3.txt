# This example shows how to implement a script which is runnable either
# by dpCommunicator-GUI or by dp_communicator_cli.exe-tool
# Execute via CLI:
# dp_communicator_cli.exe -s get_device_info.txt

print("Execute script: start")

if_fw_id = DpIfGen2APIBasicDp3.read_if_firmware_version()
print("-- Version of dpIfGen2 box: %s" % if_fw_id[0:28])

print("-- Establish connection to device")
DpIfGen2APIBasicDp3.connection_establish()

info = DpIfGen2APIBasicDp3.chip_info_get()
print("-- Identified info: %s" % info)

memory = DpIfGen2APIBasicDp3.read_memory(0x20001f00, 0x10)
print("-- Memory: %s" % memory)

print("-- Shutdown device")
DpIfGen2APIBasicDp3.voltage_level_set(0)

print("Execute script: stop")
