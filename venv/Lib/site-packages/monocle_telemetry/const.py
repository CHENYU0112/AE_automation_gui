import os
import tempfile
from pathlib import Path

ONE_MONTH = 31 * 7 * 24 * 60 * 60
NO_WRITE_ACCESS = False
_candidates = (os.environ.get("MONOCLE_HOME", ""), Path.home(), tempfile.gettempdir())
for candidate in _candidates:
    if candidate in (None, ""):
        continue
    try:
        MONOCLE_HOME = Path(candidate) / ".monocle"
        MONOCLE_HOME.mkdir(parents=False, exist_ok=True)
        CACHE_DIR = MONOCLE_HOME / "cache"
        CACHE_DIR.mkdir(parents=False, exist_ok=True)
        LOGS_DIR = MONOCLE_HOME / "logs"
        LOGS_DIR.mkdir(parents=False, exist_ok=True)
        break
    except Exception:
        pass
else:
    NO_WRITE_ACCESS = True
    MONOCLE_HOME = None
    CACHE_DIR = None
    LOGS_DIR = None
