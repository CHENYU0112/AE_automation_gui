from monocle_telemetry.client import MonocleClient
from monocle_telemetry.util import log_errors, run_async

__all__ = ["track_metric", "MonocleClient"]


@run_async
@log_errors
def track_metric(
    project: str,
    metric: str,
    value: float,
):
    with MonocleClient() as client:
        client.create_metric(project=project, metric=metric, value=value, log_errors=True)
