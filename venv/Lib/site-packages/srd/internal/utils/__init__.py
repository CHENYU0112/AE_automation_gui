from __future__ import annotations

import sys

PY3 = sys.version_info > (3,)


def decode(string):
    if type(string) is str:
        return string
    elif PY3 and type(string) is bytes:
        try:
            return string.decode("utf-8", "strict")
        except UnicodeDecodeError:
            try:
                return string.decode("latin-1", "strict")
            except UnicodeDecodeError:
                return string.decode("utf-8", "replace")
    return None
